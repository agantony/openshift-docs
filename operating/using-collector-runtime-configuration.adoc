:_mod-docs-content-type: ASSEMBLY
[id="using-collector-runtime-configuration"]
= Using Collector runtime configuration
include::modules/common-attributes.adoc[]

:FeatureName: Using Collector runtime configuration
:!FeatureName:

toc::[]

[role="_abstract"]
You can use the Collector runtime configuration to modify some collector behaviors without restarting Collector. Set the Collector runtime configuration by using a `ConfigMap` object called `collector-config`. When you create or update the `ConfigMap` object, Collector refreshes the runtime configuration. When you delete the `ConfigMap` object, the settings revert to the default runtime configuration values.

You can control the following settings using the Collector runtime configuration:

* `networking.externalIps.enabled` controls if the visualizing external entities feature is enabled or disabled. The default is `DISABLED`. In release 4.6, this setting was `networking.externalIps.enable` and was a boolean. For more information, see xref:../operating/visualizing-external-entities.adoc#visualizing-external-entities[Visualizing external entities].

* `networking.externalIps.direction` specifies the direction for collecting external IPs. The values are `INGRESS`, `EGRESS`, or `BOTH` (default). For example, when you select `EGRESS` it provides details for all outgoing connections while aggregating the incoming ones.

* `networking.maxConnectionsPerMinute` is the maximum number of open networking connections reported by Collector per container per minute. The default value is 2048.

The following example enables the visualizing external entities for outgoing connections only and sets `maxConnectionsPerMinute` to 2048.

[source,yaml]
----
apiVersion: v1
kind: ConfigMap
metadata:
  name: collector-config
  namespace: stackrox
data:
  runtime_config.yaml: | <1>
    networking:
      externalIps:
        enabled: ENABLED
        direction: EGRESS <2>
      maxConnectionsPerMinute: 2048
----
<1> {product-title-short} mounts this file at `/etc/stackrox/runtime_config.yaml`.
<2> The `direction` setting is optional. If you do not specify it, the default value is `BOTH`, which collects both ingress and egress connections.
