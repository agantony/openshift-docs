// Auto-generated by scripts. Do not edit.
:_mod-docs-content-type: ASSEMBLY
[id="RoleService"]
= Role Service
:toc: macro
:toc-title:

toc::[]

:context: RoleService

[id="ComputeEffectiveAccessScope_RoleService"]
== ComputeEffectiveAccessScope

`POST /v1/computeeffectiveaccessscope`

ComputeEffectiveAccessScope

=== Description

Returns effective access scope based on the rules in the request. Does not persist anything; not idempotent due to possible changes to clusters and namespaces. POST is chosen due to potentially large payload.  There are advantages in both keeping the response slim and detailed. If only IDs of selected clusters and namespaces are included, response latency and processing time are lower but the caller shall overlay the response with its view of the world which is susceptible to consistency issues. Listing all clusters and namespaces with related metadata is convenient for the caller but bloat the message with secondary data.  We let the caller decide what level of detail they would like to have:    - Minimal, when only roots of included subtrees are listed by their     IDs. Clusters can be either INCLUDED (its namespaces are included but     are not listed) or PARTIAL (at least one namespace is explicitly     included). Namespaces can only be INCLUDED.    - Standard [default], when all known clusters and namespaces are listed     with their IDs and names. Clusters can be INCLUDED (all its     namespaces are explicitly listed as INCLUDED), PARTIAL (all its     namespaces are explicitly listed, some as INCLUDED and some as     EXCLUDED), and EXCLUDED (all its namespaces are explicitly listed as     EXCLUDED). Namespaces can be either INCLUDED or EXCLUDED.    - High, when every cluster and namespace is augmented with metadata.

=== Parameters

==== Body Parameter

[cols="2,3,1,1,1"]
|===
|Name| Description| Required| Default| Pattern

| accessScope
|  xref:../CommonObjectReference/CommonObjectReference.adoc#ComputeEffectiveAccessScopeRequestPayload_CommonObjectReference[ComputeEffectiveAccessScopeRequestPayload]
| X
| 
| 

|===

==== Query Parameters

[cols="2,3,1,1,1"]
|===
|Name| Description| Required| Default| Pattern

| detail
|  
| -
| STANDARD
| 

|===

=== Return Type

xref:../CommonObjectReference/CommonObjectReference.adoc#StorageEffectiveAccessScope_CommonObjectReference[StorageEffectiveAccessScope]

=== Content Type

* application/json

=== Responses

.HTTP Response Codes
[cols="2,3,1"]
|===
| Code | Message | Datatype

| 200
| A successful response.
|  xref:../CommonObjectReference/CommonObjectReference.adoc#StorageEffectiveAccessScope_CommonObjectReference[StorageEffectiveAccessScope]

| 0
| An unexpected error response.
|  xref:../CommonObjectReference/CommonObjectReference.adoc#GooglerpcStatus_CommonObjectReference[GooglerpcStatus]

|===

=== Samples

[id="CreateRole_RoleService"]
== CreateRole

`POST /v1/roles/{name}`

=== Description

=== Parameters

==== Path Parameters

[cols="2,3,1,1,1"]
|===
|Name| Description| Required| Default| Pattern

| name
|  
| X
| null
| 

|===

==== Body Parameter

[cols="2,3,1,1,1"]
|===
|Name| Description| Required| Default| Pattern

| role
|  xref:../CommonObjectReference/CommonObjectReference.adoc#StorageRole_CommonObjectReference[StorageRole]
| X
| 
| 

|===

=== Return Type

`Object`

=== Content Type

* application/json

=== Responses

.HTTP Response Codes
[cols="2,3,1"]
|===
| Code | Message | Datatype

| 200
| A successful response.
|  `Object`

| 0
| An unexpected error response.
|  xref:../CommonObjectReference/CommonObjectReference.adoc#GooglerpcStatus_CommonObjectReference[GooglerpcStatus]

|===

=== Samples

[id="DeletePermissionSet_RoleService"]
== DeletePermissionSet

`DELETE /v1/permissionsets/{id}`

=== Description

=== Parameters

==== Path Parameters

[cols="2,3,1,1,1"]
|===
|Name| Description| Required| Default| Pattern

| id
|  
| X
| null
| 

|===

=== Return Type

`Object`

=== Content Type

* application/json

=== Responses

.HTTP Response Codes
[cols="2,3,1"]
|===
| Code | Message | Datatype

| 200
| A successful response.
|  `Object`

| 0
| An unexpected error response.
|  xref:../CommonObjectReference/CommonObjectReference.adoc#GooglerpcStatus_CommonObjectReference[GooglerpcStatus]

|===

=== Samples

[id="DeleteRole_RoleService"]
== DeleteRole

`DELETE /v1/roles/{id}`

=== Description

=== Parameters

==== Path Parameters

[cols="2,3,1,1,1"]
|===
|Name| Description| Required| Default| Pattern

| id
|  
| X
| null
| 

|===

=== Return Type

`Object`

=== Content Type

* application/json

=== Responses

.HTTP Response Codes
[cols="2,3,1"]
|===
| Code | Message | Datatype

| 200
| A successful response.
|  `Object`

| 0
| An unexpected error response.
|  xref:../CommonObjectReference/CommonObjectReference.adoc#GooglerpcStatus_CommonObjectReference[GooglerpcStatus]

|===

=== Samples

[id="DeleteSimpleAccessScope_RoleService"]
== DeleteSimpleAccessScope

`DELETE /v1/simpleaccessscopes/{id}`

=== Description

=== Parameters

==== Path Parameters

[cols="2,3,1,1,1"]
|===
|Name| Description| Required| Default| Pattern

| id
|  
| X
| null
| 

|===

=== Return Type

`Object`

=== Content Type

* application/json

=== Responses

.HTTP Response Codes
[cols="2,3,1"]
|===
| Code | Message | Datatype

| 200
| A successful response.
|  `Object`

| 0
| An unexpected error response.
|  xref:../CommonObjectReference/CommonObjectReference.adoc#GooglerpcStatus_CommonObjectReference[GooglerpcStatus]

|===

=== Samples

[id="GetClustersForPermissions_RoleService"]
== GetClustersForPermissions

`GET /v1/sac/clusters`

GetClustersForPermissions

=== Description

Returns the list of cluster ID and cluster name pairs that have at least read allowed by the scope of the requesting user for the list of requested permissions. Effective access scopes are only considered for input permissions that have cluster scope or narrower (i.e. global permissions from the input are ignored).  If the input only contains permissions at global level, the output will be an empty list.  If no permission is given in input, all clusters allowed by the requester scope for any permission with cluster scope or narrower will be part of the response.

=== Parameters

==== Query Parameters

[cols="2,3,1,1,1"]
|===
|Name| Description| Required| Default| Pattern

| pagination.limit
|  
| -
| null
| 

| pagination.offset
|  
| -
| null
| 

| pagination.sortOption.field
|  
| -
| null
| 

| pagination.sortOption.reversed
|  
| -
| null
| 

| pagination.sortOption.aggregateBy.aggrFunc
|  
| -
| UNSET
| 

| pagination.sortOption.aggregateBy.distinct
|  
| -
| null
| 

| permissions
|  `String`
| -
| null
| 

|===

=== Return Type

xref:../CommonObjectReference/CommonObjectReference.adoc#V1GetClustersForPermissionsResponse_CommonObjectReference[V1GetClustersForPermissionsResponse]

=== Content Type

* application/json

=== Responses

.HTTP Response Codes
[cols="2,3,1"]
|===
| Code | Message | Datatype

| 200
| A successful response.
|  xref:../CommonObjectReference/CommonObjectReference.adoc#V1GetClustersForPermissionsResponse_CommonObjectReference[V1GetClustersForPermissionsResponse]

| 0
| An unexpected error response.
|  xref:../CommonObjectReference/CommonObjectReference.adoc#GooglerpcStatus_CommonObjectReference[GooglerpcStatus]

|===

=== Samples

[id="GetMyPermissions_RoleService"]
== GetMyPermissions

`GET /v1/mypermissions`

=== Description

=== Parameters

=== Return Type

xref:../CommonObjectReference/CommonObjectReference.adoc#V1GetPermissionsResponse_CommonObjectReference[V1GetPermissionsResponse]

=== Content Type

* application/json

=== Responses

.HTTP Response Codes
[cols="2,3,1"]
|===
| Code | Message | Datatype

| 200
| A successful response.
|  xref:../CommonObjectReference/CommonObjectReference.adoc#V1GetPermissionsResponse_CommonObjectReference[V1GetPermissionsResponse]

| 0
| An unexpected error response.
|  xref:../CommonObjectReference/CommonObjectReference.adoc#GooglerpcStatus_CommonObjectReference[GooglerpcStatus]

|===

=== Samples

[id="GetNamespacesForClusterAndPermissions_RoleService"]
== GetNamespacesForClusterAndPermissions

`GET /v1/sac/clusters/{clusterId}/namespaces`

GetNamespacesForClusterAndPermissions

=== Description

Returns the list of namespace ID and namespace name pairs that belong to the requested cluster and for which the user has at least read access granted for the list of requested permissions that have namespace scope or narrower (i.e. global and cluster permissions from the input are ignored).  If the input only contains permissions at global or cluster level, the output will be an empty list.  If no permission is given in input, all namespaces allowed by the requester scope for any permission with namespace scope or narrower will be part of the response.

=== Parameters

==== Path Parameters

[cols="2,3,1,1,1"]
|===
|Name| Description| Required| Default| Pattern

| clusterId
|  
| X
| null
| 

|===

==== Query Parameters

[cols="2,3,1,1,1"]
|===
|Name| Description| Required| Default| Pattern

| permissions
|  `String`
| -
| null
| 

|===

=== Return Type

xref:../CommonObjectReference/CommonObjectReference.adoc#V1GetNamespacesForClusterAndPermissionsResponse_CommonObjectReference[V1GetNamespacesForClusterAndPermissionsResponse]

=== Content Type

* application/json

=== Responses

.HTTP Response Codes
[cols="2,3,1"]
|===
| Code | Message | Datatype

| 200
| A successful response.
|  xref:../CommonObjectReference/CommonObjectReference.adoc#V1GetNamespacesForClusterAndPermissionsResponse_CommonObjectReference[V1GetNamespacesForClusterAndPermissionsResponse]

| 0
| An unexpected error response.
|  xref:../CommonObjectReference/CommonObjectReference.adoc#GooglerpcStatus_CommonObjectReference[GooglerpcStatus]

|===

=== Samples

[id="GetPermissionSet_RoleService"]
== GetPermissionSet

`GET /v1/permissionsets/{id}`

=== Description

=== Parameters

==== Path Parameters

[cols="2,3,1,1,1"]
|===
|Name| Description| Required| Default| Pattern

| id
|  
| X
| null
| 

|===

=== Return Type

xref:../CommonObjectReference/CommonObjectReference.adoc#StoragePermissionSet_CommonObjectReference[StoragePermissionSet]

=== Content Type

* application/json

=== Responses

.HTTP Response Codes
[cols="2,3,1"]
|===
| Code | Message | Datatype

| 200
| A successful response.
|  xref:../CommonObjectReference/CommonObjectReference.adoc#StoragePermissionSet_CommonObjectReference[StoragePermissionSet]

| 0
| An unexpected error response.
|  xref:../CommonObjectReference/CommonObjectReference.adoc#GooglerpcStatus_CommonObjectReference[GooglerpcStatus]

|===

=== Samples

[id="GetResources_RoleService"]
== GetResources

`GET /v1/resources`

=== Description

=== Parameters

=== Return Type

xref:../CommonObjectReference/CommonObjectReference.adoc#V1GetResourcesResponse_CommonObjectReference[V1GetResourcesResponse]

=== Content Type

* application/json

=== Responses

.HTTP Response Codes
[cols="2,3,1"]
|===
| Code | Message | Datatype

| 200
| A successful response.
|  xref:../CommonObjectReference/CommonObjectReference.adoc#V1GetResourcesResponse_CommonObjectReference[V1GetResourcesResponse]

| 0
| An unexpected error response.
|  xref:../CommonObjectReference/CommonObjectReference.adoc#GooglerpcStatus_CommonObjectReference[GooglerpcStatus]

|===

=== Samples

[id="GetRole_RoleService"]
== GetRole

`GET /v1/roles/{id}`

=== Description

=== Parameters

==== Path Parameters

[cols="2,3,1,1,1"]
|===
|Name| Description| Required| Default| Pattern

| id
|  
| X
| null
| 

|===

=== Return Type

xref:../CommonObjectReference/CommonObjectReference.adoc#StorageRole_CommonObjectReference[StorageRole]

=== Content Type

* application/json

=== Responses

.HTTP Response Codes
[cols="2,3,1"]
|===
| Code | Message | Datatype

| 200
| A successful response.
|  xref:../CommonObjectReference/CommonObjectReference.adoc#StorageRole_CommonObjectReference[StorageRole]

| 0
| An unexpected error response.
|  xref:../CommonObjectReference/CommonObjectReference.adoc#GooglerpcStatus_CommonObjectReference[GooglerpcStatus]

|===

=== Samples

[id="GetRoles_RoleService"]
== GetRoles

`GET /v1/roles`

=== Description

=== Parameters

=== Return Type

xref:../CommonObjectReference/CommonObjectReference.adoc#V1GetRolesResponse_CommonObjectReference[V1GetRolesResponse]

=== Content Type

* application/json

=== Responses

.HTTP Response Codes
[cols="2,3,1"]
|===
| Code | Message | Datatype

| 200
| A successful response.
|  xref:../CommonObjectReference/CommonObjectReference.adoc#V1GetRolesResponse_CommonObjectReference[V1GetRolesResponse]

| 0
| An unexpected error response.
|  xref:../CommonObjectReference/CommonObjectReference.adoc#GooglerpcStatus_CommonObjectReference[GooglerpcStatus]

|===

=== Samples

[id="GetSimpleAccessScope_RoleService"]
== GetSimpleAccessScope

`GET /v1/simpleaccessscopes/{id}`

=== Description

=== Parameters

==== Path Parameters

[cols="2,3,1,1,1"]
|===
|Name| Description| Required| Default| Pattern

| id
|  
| X
| null
| 

|===

=== Return Type

xref:../CommonObjectReference/CommonObjectReference.adoc#StorageSimpleAccessScope_CommonObjectReference[StorageSimpleAccessScope]

=== Content Type

* application/json

=== Responses

.HTTP Response Codes
[cols="2,3,1"]
|===
| Code | Message | Datatype

| 200
| A successful response.
|  xref:../CommonObjectReference/CommonObjectReference.adoc#StorageSimpleAccessScope_CommonObjectReference[StorageSimpleAccessScope]

| 0
| An unexpected error response.
|  xref:../CommonObjectReference/CommonObjectReference.adoc#GooglerpcStatus_CommonObjectReference[GooglerpcStatus]

|===

=== Samples

[id="ListPermissionSets_RoleService"]
== ListPermissionSets

`GET /v1/permissionsets`

=== Description

=== Parameters

=== Return Type

xref:../CommonObjectReference/CommonObjectReference.adoc#V1ListPermissionSetsResponse_CommonObjectReference[V1ListPermissionSetsResponse]

=== Content Type

* application/json

=== Responses

.HTTP Response Codes
[cols="2,3,1"]
|===
| Code | Message | Datatype

| 200
| A successful response.
|  xref:../CommonObjectReference/CommonObjectReference.adoc#V1ListPermissionSetsResponse_CommonObjectReference[V1ListPermissionSetsResponse]

| 0
| An unexpected error response.
|  xref:../CommonObjectReference/CommonObjectReference.adoc#GooglerpcStatus_CommonObjectReference[GooglerpcStatus]

|===

=== Samples

[id="ListSimpleAccessScopes_RoleService"]
== ListSimpleAccessScopes

`GET /v1/simpleaccessscopes`

=== Description

=== Parameters

=== Return Type

xref:../CommonObjectReference/CommonObjectReference.adoc#V1ListSimpleAccessScopesResponse_CommonObjectReference[V1ListSimpleAccessScopesResponse]

=== Content Type

* application/json

=== Responses

.HTTP Response Codes
[cols="2,3,1"]
|===
| Code | Message | Datatype

| 200
| A successful response.
|  xref:../CommonObjectReference/CommonObjectReference.adoc#V1ListSimpleAccessScopesResponse_CommonObjectReference[V1ListSimpleAccessScopesResponse]

| 0
| An unexpected error response.
|  xref:../CommonObjectReference/CommonObjectReference.adoc#GooglerpcStatus_CommonObjectReference[GooglerpcStatus]

|===

=== Samples

[id="PostPermissionSet_RoleService"]
== PostPermissionSet

`POST /v1/permissionsets`

PostPermissionSet

=== Description

PermissionSet.id is disallowed in request and set in response.

=== Parameters

==== Body Parameter

[cols="2,3,1,1,1"]
|===
|Name| Description| Required| Default| Pattern

| body
| This encodes a set of permissions for StackRox resources. xref:../CommonObjectReference/CommonObjectReference.adoc#StoragePermissionSet_CommonObjectReference[StoragePermissionSet]
| X
| 
| 

|===

=== Return Type

xref:../CommonObjectReference/CommonObjectReference.adoc#StoragePermissionSet_CommonObjectReference[StoragePermissionSet]

=== Content Type

* application/json

=== Responses

.HTTP Response Codes
[cols="2,3,1"]
|===
| Code | Message | Datatype

| 200
| A successful response.
|  xref:../CommonObjectReference/CommonObjectReference.adoc#StoragePermissionSet_CommonObjectReference[StoragePermissionSet]

| 0
| An unexpected error response.
|  xref:../CommonObjectReference/CommonObjectReference.adoc#GooglerpcStatus_CommonObjectReference[GooglerpcStatus]

|===

=== Samples

[id="PostSimpleAccessScope_RoleService"]
== PostSimpleAccessScope

`POST /v1/simpleaccessscopes`

PostSimpleAccessScope

=== Description

SimpleAccessScope.id is disallowed in request and set in response.

=== Parameters

==== Body Parameter

[cols="2,3,1,1,1"]
|===
|Name| Description| Required| Default| Pattern

| body
| Simple access scope is a (simple) selection criteria for scoped resources. It does *not* allow multi-component AND-rules nor set operations on names. xref:../CommonObjectReference/CommonObjectReference.adoc#StorageSimpleAccessScope_CommonObjectReference[StorageSimpleAccessScope]
| X
| 
| 

|===

=== Return Type

xref:../CommonObjectReference/CommonObjectReference.adoc#StorageSimpleAccessScope_CommonObjectReference[StorageSimpleAccessScope]

=== Content Type

* application/json

=== Responses

.HTTP Response Codes
[cols="2,3,1"]
|===
| Code | Message | Datatype

| 200
| A successful response.
|  xref:../CommonObjectReference/CommonObjectReference.adoc#StorageSimpleAccessScope_CommonObjectReference[StorageSimpleAccessScope]

| 0
| An unexpected error response.
|  xref:../CommonObjectReference/CommonObjectReference.adoc#GooglerpcStatus_CommonObjectReference[GooglerpcStatus]

|===

=== Samples

[id="PutPermissionSet_RoleService"]
== PutPermissionSet

`PUT /v1/permissionsets/{id}`

=== Description

=== Parameters

==== Path Parameters

[cols="2,3,1,1,1"]
|===
|Name| Description| Required| Default| Pattern

| id
| id is generated and cannot be changed. 
| X
| null
| 

|===

==== Body Parameter

[cols="2,3,1,1,1"]
|===
|Name| Description| Required| Default| Pattern

| body
|  xref:../CommonObjectReference/CommonObjectReference.adoc#RoleServicePutPermissionSetBody_CommonObjectReference[RoleServicePutPermissionSetBody]
| X
| 
| 

|===

=== Return Type

`Object`

=== Content Type

* application/json

=== Responses

.HTTP Response Codes
[cols="2,3,1"]
|===
| Code | Message | Datatype

| 200
| A successful response.
|  `Object`

| 0
| An unexpected error response.
|  xref:../CommonObjectReference/CommonObjectReference.adoc#GooglerpcStatus_CommonObjectReference[GooglerpcStatus]

|===

=== Samples

[id="PutSimpleAccessScope_RoleService"]
== PutSimpleAccessScope

`PUT /v1/simpleaccessscopes/{id}`

=== Description

=== Parameters

==== Path Parameters

[cols="2,3,1,1,1"]
|===
|Name| Description| Required| Default| Pattern

| id
| `id` is generated and cannot be changed. 
| X
| null
| 

|===

==== Body Parameter

[cols="2,3,1,1,1"]
|===
|Name| Description| Required| Default| Pattern

| body
|  xref:../CommonObjectReference/CommonObjectReference.adoc#RoleServicePutSimpleAccessScopeBody_CommonObjectReference[RoleServicePutSimpleAccessScopeBody]
| X
| 
| 

|===

=== Return Type

`Object`

=== Content Type

* application/json

=== Responses

.HTTP Response Codes
[cols="2,3,1"]
|===
| Code | Message | Datatype

| 200
| A successful response.
|  `Object`

| 0
| An unexpected error response.
|  xref:../CommonObjectReference/CommonObjectReference.adoc#GooglerpcStatus_CommonObjectReference[GooglerpcStatus]

|===

=== Samples

[id="UpdateRole_RoleService"]
== UpdateRole

`PUT /v1/roles/{name}`

=== Description

=== Parameters

==== Path Parameters

[cols="2,3,1,1,1"]
|===
|Name| Description| Required| Default| Pattern

| name
| `name` and `description` are provided by the user and can be changed. 
| X
| null
| 

|===

==== Body Parameter

[cols="2,3,1,1,1"]
|===
|Name| Description| Required| Default| Pattern

| body
|  xref:../CommonObjectReference/CommonObjectReference.adoc#RoleServiceUpdateRoleBody_CommonObjectReference[RoleServiceUpdateRoleBody]
| X
| 
| 

|===

=== Return Type

`Object`

=== Content Type

* application/json

=== Responses

.HTTP Response Codes
[cols="2,3,1"]
|===
| Code | Message | Datatype

| 200
| A successful response.
|  `Object`

| 0
| An unexpected error response.
|  xref:../CommonObjectReference/CommonObjectReference.adoc#GooglerpcStatus_CommonObjectReference[GooglerpcStatus]

|===

=== Samples
